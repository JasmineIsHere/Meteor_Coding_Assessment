# Meteor_Coding_Assessment
### Jasmine Tan Jia Min

[Assessment Instructions](https://go.gov.sg/meteor-tech-assessment)

## Running in Local Environment
1. Clone this repository in preferred local device
2. Install Go [here](https://go.dev/doc/install)
3. Install Gin package, the HTTP Web Framework used in this project with
   `go get -u github.com/gin-gonic/gin`
4. In the project folder, run `go mod tidy && go mod vendor`
5. Run project with `go run .`
6. Check if service is up using the [healthcheck endpoint](http://localhost:8080)

## Project Layout
### controllers
The HTTP handlers for processing the requests.

### daos
The Data Access layer to interact with the data storage.

### domains
Contains the business domain objects.

### models
Models are generated by SQLBoiler. You shouldn't modify any file in this folder.

## Assumptions
### Database Setup
To reduce the amount of setup necessary, I have decided to host the database on an AWS RDS so there is no need to spin up another DB instance on one's local machine. <br><br>
However, in the event that the connection to the cloud database is not stable, one can choose to connect to their own database instance and change the configuration in the `sqlboiler.toml` file.
The sql file containing the database schema can be found in the **/resources** folder.

To regenerate the models, [sqlboiler](https://github.com/volatiletech/sqlboiler) is necessary. <br>
To get started with sqlboiler:
1. Install sqlboiler with the commands:
```
# Go 1.16 and above:
go install github.com/volatiletech/sqlboiler/v4@latest
go install github.com/volatiletech/sqlboiler/v4/drivers/sqlboiler-psql@latest

# Go 1.15 and below:
# Install sqlboiler v4 and the postgresql driver (mysql, mssql, sqlite3 also available)
# NOTE: DO NOT run this inside another Go module (like your project) as it will
# pollute your go.mod with a bunch of stuff you don't want and your binary
# will not get installed.
GO111MODULE=on go get -u -t github.com/volatiletech/sqlboiler/v4
GO111MODULE=on go get github.com/volatiletech/sqlboiler/v4/drivers/sqlboiler-psql
```
2. Run command: `sqlboiler -c sqlboiler.toml --wipe mysql`

### Task 5: List the households and qualifying family members
#### Assumptions Made:
1. Student Encouragement Bonus <br>
   **ASSUMPTION 1:** ELIGIBILITY = (at least one member whose occupationType = "Student" AND age > 16 years) AND total household income < 200,000 <br>
   **ASSUMPTION 2:** a person's age depends on whether a person's birthday has passed <br>
   **ASSUMPTION 3:** Households incomes of less than $200,000 refers to the family's total annual income <br>
<br>
2. Multigeneration Scheme <br>
   **ASSUMPTION 1**: ELIGIBILITY = at least ONE member whose age is < 18 or > 55 which will make everyone in the household qualified <br>
   **ASSUMPTION 2**: Households incomes of less than $150,000 refers to the family's total annual income <br>
<br>
3. Elder Bonus <br>
<br>
4. Baby Sunshine Grant <br>
<br>
5. YOLO GST Grant <br>
   **ASSUMPTION 1**: Households incomes of less than $100,000 refers to the family's total annual income
